# ==============================
# Copying to clipboard
# ==============================

# extended key bindings
bind -T copy-mode-vi v send -X begin-selection
bind -T copy-mode-vi M-v send-keys -X rectangle-toggle # additional bind for Alt-v in case Ctrl-v is captured by terminal

# Wayland (wl-copy)
if -b '[ -n "$WAYLAND_DISPLAY" ] && command -v wl-copy >/dev/null' "bind-key -T copy-mode-vi y send -X copy-pipe-and-cancel 'sh -c \"cat | wl-copy && tmux display-message \\\"Copied with wl-copy (Wayland) ✔\\\"\"'"
if -b '[ -n "$WAYLAND_DISPLAY" ] && command -v wl-copy >/dev/null' "bind-key -T copy-mode y send -X copy-pipe-and-cancel 'sh -c \"cat | wl-copy && tmux display-message \\\"Copied with wl-copy (Wayland) ✔\\\"\"'"

# X11 (xclip)
if -b '[ -n "$DISPLAY" ] && command -v xclip >/dev/null' \
  "bind-key -T copy-mode-vi y send -X copy-pipe-and-cancel 'sh -c \"cat | xclip -selection clipboard && tmux display-message \\\"Copied with xclip (X11) ✔\\\"\"'"
if -b '[ -n "$DISPLAY" ] && command -v xclip >/dev/null' \
  "bind-key -T copy-mode y send -X copy-pipe-and-cancel 'sh -c \"cat | xclip -selection clipboard && tmux display-message \\\"Copied with xclip (X11) ✔\\\"\"'"

# WSL (clip.exe)
if -b 'grep -qi microsoft /proc/version && command -v clip.exe >/dev/null' \
  "bind-key -T copy-mode-vi y send -X copy-pipe-and-cancel 'sh -c \"cat | clip.exe && tmux display-message \\\"Copied with clip.exe (WSL) ✔\\\"\"'"
if -b 'grep -qi microsoft /proc/version && command -v clip.exe >/dev/null' \
  "bind-key -T copy-mode y send -X copy-pipe-and-cancel 'sh -c \"cat | clip.exe && tmux display-message \\\"Copied with clip.exe (WSL) ✔\\\"\"'"


